$date
	Fri Jun 13 08:09:47 2025
$end
$version
	Icarus Verilog
$end
$timescale
	1s
$end
$scope module fsm_controller_tb $end
$var wire 1 ! reset_money $end
$var wire 2 " product_out [1:0] $end
$var wire 1 # dispense_command $end
$var wire 3 $ current_state [2:0] $end
$var wire 1 % calculate_change $end
$var parameter 3 & DISPENSE_PRODUCT $end
$var parameter 3 ' IDLE $end
$var parameter 3 ( MONEY_DEPOSIT $end
$var parameter 3 ) PRODUCT_SELECT $end
$var parameter 3 * RETURN_CHANGE $end
$var reg 1 + cancel $end
$var reg 1 , clk $end
$var reg 2 - coin_in [1:0] $end
$var reg 5 . current_amount [4:0] $end
$var reg 3 / prev_state [2:0] $end
$var reg 2 0 product_sel [1:0] $end
$var reg 1 1 reset $end
$var reg 5 2 selected_price [4:0] $end
$var reg 1 3 valid_transaction $end
$scope module uut $end
$var wire 1 + cancel $end
$var wire 1 , clk $end
$var wire 2 4 coin_in [1:0] $end
$var wire 5 5 current_amount [4:0] $end
$var wire 2 6 product_sel [1:0] $end
$var wire 1 1 reset $end
$var wire 5 7 selected_price [4:0] $end
$var wire 1 8 timeout $end
$var wire 1 3 valid_transaction $end
$var parameter 3 9 DISPENSE_PRODUCT $end
$var parameter 3 : IDLE $end
$var parameter 3 ; MONEY_DEPOSIT $end
$var parameter 3 < PRODUCT_SELECT $end
$var parameter 3 = RETURN_CHANGE $end
$var reg 1 % calculate_change $end
$var reg 3 > current_state [2:0] $end
$var reg 1 # dispense_command $end
$var reg 1 ? money_reset_done $end
$var reg 3 @ next_state [2:0] $end
$var reg 2 A product_out [1:0] $end
$var reg 1 ! reset_money $end
$var reg 2 B selected_product [1:0] $end
$var reg 1 C transaction_cancelled $end
$upscope $end
$scope task simulate_coin_input $end
$var reg 5 D amount_after [4:0] $end
$var reg 2 E coin_type [1:0] $end
$upscope $end
$scope task wait_for_state $end
$var reg 3 F expected_state [2:0] $end
$var integer 32 G cycle_count [31:0] $end
$var integer 32 H max_cycles [31:0] $end
$upscope $end
$upscope $end
$enddefinitions $end
$comment Show the parameter values. $end
$dumpall
b100 =
b10 <
b1 ;
b0 :
b11 9
b100 *
b10 )
b1 (
b0 '
b11 &
$end
#0
$dumpvars
bx H
bx G
bx F
bx E
bx D
0C
b0 B
b0 A
b0 @
0?
b0 >
08
b0 7
b0 6
b0 5
b0 4
03
b0 2
11
b0 0
b0 /
b0 .
b0 -
0,
0+
0%
b0 $
0#
b0 "
1!
$end
#10
1,
#20
0,
#30
1,
#40
0,
#50
1,
#60
0,
#70
1,
#80
0,
#90
0!
1?
01
1,
#100
0,
#110
1,
#120
0,
#130
b1 @
b1010 .
b1010 5
b11 -
b11 4
b1010 D
b11 E
1,
#140
0,
#150
b1 $
b1 >
b1 @
b0 -
b0 4
1,
#160
0,
#170
0?
b1 /
1,
#180
0,
#190
1,
#200
0,
#210
b1111 .
b1111 5
b10 -
b10 4
b1111 D
b10 E
1,
#220
0,
#230
b0 -
b0 4
1,
#240
0,
#250
1,
#260
0,
#270
1,
#280
0,
#290
b10 @
b1111 2
b1111 7
b1 0
b1 6
1,
#300
0,
#310
b1 "
b1 A
b11 @
b10 $
b10 >
1,
#320
0,
#330
1#
b1 "
b1 A
b100 @
b1 B
b11 $
b11 >
b10 /
1,
#340
0,
#350
1%
b1 "
b1 A
0#
b0 @
b100 $
b100 >
b11 /
1,
#360
0,
#370
1!
b0 "
b0 A
0%
b0 $
b0 >
b100 /
1,
#380
0,
#390
0!
1?
b0 B
b0 /
1,
#400
0,
#410
1,
#420
0,
#430
1,
#440
0,
#450
1,
#460
0,
#470
1,
#480
0,
#490
1,
#500
0,
#510
1,
#520
0,
#530
1,
#540
0,
#550
1,
#560
0,
#570
1,
#580
0,
#590
b0 2
b0 7
b0 .
b0 5
b0 0
b0 6
1,
#600
0,
#610
1,
#620
0,
#630
1,
#640
0,
#650
1,
#660
0,
#670
1,
#680
0,
#690
b1 @
b1010 .
b1010 5
b11 -
b11 4
b1010 D
b11 E
1,
#700
0,
#710
b1 $
b1 >
b1 @
b0 -
b0 4
1,
#720
0,
#730
0?
b1 /
1,
#740
0,
#750
1,
#760
0,
#770
b1111 .
b1111 5
b10 -
b10 4
b1111 D
b10 E
1,
#780
0,
#790
b0 -
b0 4
1,
#800
0,
#810
1,
#820
0,
#830
1,
#840
0,
#850
1C
b100 @
1+
1,
#860
0,
#870
1%
b0 @
b100 $
b100 >
1,
#880
0,
#890
1!
0%
b0 $
b0 >
b100 /
1,
#900
0,
#910
0!
1?
0C
b0 /
0+
1,
#920
0,
#930
1,
#940
0,
#950
1,
#960
0,
#970
1,
#980
0,
#990
1,
#1000
0,
#1010
1,
#1020
0,
#1030
1,
#1040
0,
#1050
1,
#1060
0,
#1070
1,
#1080
0,
#1090
1,
#1100
0,
#1110
b0 .
b0 5
1,
#1120
0,
#1130
1,
#1140
0,
#1150
1,
#1160
0,
#1170
1,
#1180
0,
#1190
1,
#1200
0,
#1210
b1 @
b1010 .
b1010 5
b11 -
b11 4
b1010 D
b11 E
1,
#1220
0,
#1230
b1 $
b1 >
b1 @
b0 -
b0 4
1,
#1240
0,
#1250
0?
b1 /
1,
#1260
0,
#1270
1,
#1280
0,
#1290
b10 @
b11001 2
b11001 7
b11 0
b11 6
1,
#1300
0,
#1310
b10 $
b10 >
1,
#1320
0,
#1330
b10 /
1,
#1340
0,
#1350
1,
#1360
0,
#1370
1,
#1380
0,
#1390
b1 @
b10100 .
b10100 5
b11 -
b11 4
b10100 D
1,
#1400
0,
#1410
b1 $
b1 >
b10 @
b0 -
b0 4
1,
#1420
0,
#1430
b10 $
b10 >
b1 /
1,
#1440
0,
#1450
b10 /
1,
#1460
0,
#1470
b11 B
b11 "
b11 A
b11 @
b11001 .
b11001 5
b10 -
b10 4
b11001 D
b10 E
1,
#1480
0,
#1490
1#
b11 "
b11 A
b100 @
b11 $
b11 >
b0 -
b0 4
1,
#1500
0,
#1510
1%
b11 "
b11 A
0#
b0 @
b100 $
b100 >
b11 /
1,
#1520
0,
#1530
1!
b0 "
b0 A
0%
b0 $
b0 >
b100 /
1,
#1540
0,
#1550
0!
1?
b0 B
b0 /
1,
#1560
0,
#1570
1,
#1580
0,
#1590
1,
#1600
0,
#1610
1,
#1620
0,
#1630
1,
#1640
0,
#1650
1,
#1660
0,
#1670
1,
#1680
0,
#1690
1,
#1700
0,
#1710
1,
#1720
0,
#1730
1,
#1740
0,
#1750
1,
#1760
0,
#1770
1,
#1780
0,
#1790
b0 2
b0 7
b0 .
b0 5
b0 0
b0 6
1,
#1800
0,
#1810
1,
#1820
0,
#1830
1,
#1840
0,
#1850
1,
#1860
0,
#1870
1,
#1880
0,
#1890
1,
#1900
0,
#1910
1,
#1920
0,
#1930
1,
#1940
0,
#1950
1,
#1960
0,
#1970
1,
#1980
0,
#1990
b1 @
b10100 .
b10100 5
b11 -
b11 4
b10100 D
b11 E
1,
#2000
0,
#2010
b1 $
b1 >
b10 @
b10100 2
b10100 7
b10 0
b10 6
b0 -
b0 4
1,
#2020
0,
#2030
b10 "
b10 A
b11 @
0?
b10 $
b10 >
b1 /
1,
#2040
0,
#2050
1#
b10 "
b10 A
b100 @
b10 B
b11 $
b11 >
b10 /
1,
#2060
0,
#2070
1%
b10 "
b10 A
0#
b0 @
b100 $
b100 >
b11 /
1,
#2080
0,
#2090
1!
b0 "
b0 A
0%
b0 $
b0 >
b100 /
1,
#2100
0,
#2110
0!
1?
b0 B
b0 /
1,
#2120
0,
#2130
1,
#2140
0,
#2150
1,
#2160
0,
#2170
1,
#2180
0,
#2190
1,
#2200
0,
#2210
1,
#2220
0,
#2230
1,
#2240
0,
#2250
1,
#2260
0,
#2270
1,
#2280
0,
#2290
1,
#2300
0,
#2310
1!
0?
11
1,
#2320
0,
#2330
1,
#2340
0,
#2350
1,
#2360
0,
#2370
0!
1?
01
1,
#2380
0,
#2390
1,
#2400
0,
#2410
1,
#2420
0,
#2430
b0 .
b0 5
b1111 2
b1111 7
b1 0
b1 6
1,
#2440
0,
#2450
1,
#2460
0,
#2470
1,
#2480
0,
#2490
1,
#2500
0,
#2510
1,
#2520
0,
#2530
1,
#2540
0,
#2550
1,
#2560
0,
#2570
1,
#2580
0,
#2590
1,
#2600
0,
#2610
1,
#2620
0,
#2630
1,
#2640
0,
#2650
1,
#2660
0,
#2670
1,
#2680
0,
#2690
1,
#2700
0,
#2710
1,
#2720
0,
#2730
1,
#2740
0,
#2750
1,
#2760
0,
#2770
1,
#2780
0,
#2790
1,
#2800
0,
#2810
1,
#2820
0,
#2830
1,
